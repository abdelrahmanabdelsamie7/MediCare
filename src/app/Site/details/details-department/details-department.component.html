<div class="container mt-2">
  <div class="row">
    <div class="col-md-12">
      <div class="d-flex justify-content-start align-items-start flex-column">
        <div class="my-3" role="group" aria-label="Tabs">
          <button type="button" class="btn text-light me-3" [ngClass]="{
                'btn-info': activeTab === 'doctors',
                'btn-secondary': activeTab !== 'doctors'
              }" (click)="setActiveTab('doctors')">
            Doctors
          </button>
          <button type="button" class="btn text-light me-3" [ngClass]="{
                'btn-info': activeTab === 'hospitals',
                'btn-secondary': activeTab !== 'hospitals'
              }" (click)="setActiveTab('hospitals')">
            Hospitals
          </button>
          <button type="button" class="btn text-light me-3" [ngClass]="{
                'btn-info': activeTab === 'care_centers',
                'btn-secondary': activeTab !== 'care_centers'
              }" (click)="setActiveTab('care_centers')">
            Care Centers
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div *ngIf="activeTab === 'doctors'">
    <div class="row">
      @for (item of Doctors; track $index) {
      <div class="col-md-6 col-lg-4">
        <div class="card">
          <img [src]="item.image" class="card-img-top" alt="Doctor Image" />
          <div class="card-body" style="direction: rtl;">
            <h5 class="card-title">{{ item.fName }} {{ item.lName }}</h5>
            <p class="card-text">{{ item.title }}</p>
            <a routerLink="/details/doctor/{{ item.id }}" class="btn btn-info text-light">More Info</a>
          </div>
        </div>
      </div>
      }

    </div>
    <!-- Pagination for doctors -->
    <div class="d-flex justify-content-center align-items-center">
      <button (click)="prevDoctorPage()" class="btn btn-outline-info" [disabled]="currentDoctorPage === 1">الصفحة
        السابقة</button>
      <span class="px-3">الصفحة {{ currentDoctorPage }} من {{ totalDoctorPages }}</span>
      <button (click)="nextDoctorPage()" class="btn btn-outline-info"
        [disabled]="currentDoctorPage === totalDoctorPages">الصفحة التالية</button>
    </div>
  </div>

  <div *ngIf="activeTab === 'hospitals'">
    <div class="row">
      @for (item of Hospitals; track $index) {
      <div class="col-md-6 col-lg-4">
        <div class="card">
          <img [src]="item.image" class="card-img-top" alt="Hospital Image" />
          <div class="card-body" style="direction: rtl;">
            <h5 class="card-title">{{ item.title }}</h5>
            <p class="card-text">{{ item.service }}</p>
            <p class="card-text">سعر الكشف : {{ item.pivot.app_price }}</p>
            <p class="card-text">يبدأ : {{ item.pivot.start_at | date:'short' }}</p>
            <p class="card-text">ينتهي : {{ item.pivot.end_at | date:'short' }}</p>
            <a routerLink="hospital/{{ item.id }}" class="btn btn-info text-light">More Info</a>
          </div>
        </div>
      </div>
      }
    </div>
    <!-- Pagination for hospitals -->
    <div class="d-flex justify-content-center align-items-center">
      <button (click)="prevHospitalPage()" class="btn btn-outline-info" [disabled]="currentHospitalPage === 1">الصفحة
        السابقة</button>
      <span class="px-3">الصفحة {{ currentHospitalPage }} من {{ totalHospitalPages }}</span>
      <button (click)="nextHospitalPage()" class="btn btn-outline-info"
        [disabled]="currentHospitalPage === totalHospitalPages">الصفحة التالية</button>
    </div>
  </div>

  <div *ngIf="activeTab === 'care_centers'">
    <div class="row">
      @for (item of CareCenters; track $index) {
      <div class="col-md-6 col-lg-4">
        <div class="card">
          <img [src]="item.image" class="card-img-top" alt="Care Center Image" />
          <div class="card-body" style="direction: rtl;">
            <h5 class="card-title">{{ item.title }}</h5>
            <p class="card-text">{{ item.service }}</p>
            <p class="card-text">سعر الكشف : {{ item.pivot.app_price }}</p>
            <p class="card-text">يبدأ : {{ item.pivot.start_at | date:'short' }}</p>
            <p class="card-text">ينتهي : {{ item.pivot.end_at | date:'short' }}</p>
            <a routerLink="care_center/{{ item.id }}" class="btn btn-info text-light">More Info</a>
          </div>
        </div>
      </div>
      }
    </div>
    <!-- Pagination for care_centers -->
    <div class="d-flex justify-content-center align-items-center">
      <button (click)="prevCareCenterPage()" class="btn btn-outline-info"
        [disabled]="currentCareCenterPage === 1">الصفحة
        السابقة</button>
      <span class="px-3">الصفحة {{ currentCareCenterPage }} من {{ totalCareCenterPages }}</span>
      <button (click)="nextCareCenterPage()" class="btn btn-outline-info"
        [disabled]="currentCareCenterPage === totalCareCenterPages">الصفحة التالية</button>
    </div>
  </div>

</div>

<!-- Section for Tips -->
<section id="tip" class="tip section">
  <div class="container section-title text-end">
    <h4>اعرف اكثر عن تخصص {{ Department.title }}</h4>
  </div>
  <div class="container my-3" style="direction: rtl;">
    <div *ngFor="let item of Tips" class="row tip-item">
      <div class="col-lg-5 d-flex">
        <i class="bi bi-question-circle"></i>
        <h4>{{ item.question }}</h4>
      </div>
      <div class="col-lg-7">
        <p>{{ item.answer }}</p>
      </div>
    </div>
  </div>
</section>